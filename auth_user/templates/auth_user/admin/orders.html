{% extends "auth_user/admin/template.html" %}
{%load humanize%}
{% block content %}
<h5 class="product-header fw-bold fs-3">Ordenes</h5>
<table class="table ">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Cliente</th>
        <th scope="col">Fecha de la transacci√≥n</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
        

    {% for u in orders %}
   
  <div class="modal fade" id="{{u.id}}modal" tabindex="-1" aria-labelledby="{{u.id}}modallabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="{{u.id}}modallabel">Detalle de la orden</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <h5>Boleta: </h5>
            Cliente: {{u.client}} <br>
            Orden creada en:  {{u.created_at}}<br>
            {%for p in u.recipedetails_set.all %}
            <h5>----------------------------------------</h5>
            <h5>Detalles de la compra:</h5>
            Producto: {{p.product}}<br>
            Cantidad : {{p.quantity}}<br>
            Total de compra: ${{p.get_total | intcomma}}<br>
            {%endfor%}
            
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>
      <tr scope="row">
        <td>{{ u.id }}</td>
        <td>{{ u.client }}</td>
        <td>{{ u.created_at }}</td>
        <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#{{u.id}}modal">
            Detalles
          </button></td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock content %}
